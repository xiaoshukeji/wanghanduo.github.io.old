<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from code.visualstudio.com/api/language-extensions/syntax-highlight-guide by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Jan 2023 11:26:56 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="hNs7DXrTySP_X-0P_AC0WulAXvUwgSXEmgfcO2r79dw" />

  <!-- Twitter and Facebook OpenGraph Metadata-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@code" />

  <meta name="keywords" content="vscode API" />

<meta name="description" content="A guide to syntax highlighting" />

<meta name="ms.prod" content="vs-code" />
<meta name="ms.TOCTitle" content="Syntax Highlight Guide" />
<meta name="ms.ContentId" content="2bb06188-d394-4b98-872c-0bf26c8a674d" />
<meta name="ms.topic" content="conceptual" />
<meta name="ms.date" content="12/7/2022" />
<!-- Twitter and Facebook OpenGraph Metadata-->
<meta name="twitter:card" content="summary_large_image" />
<meta property="og:url" content="syntax-highlight-guide.html" />

<meta property="og:description" content="A guide to syntax highlighting" />

<meta property="og:type" content="article" />
<meta property="og:title" content="Syntax Highlight Guide" />
<meta property="og:image" content="../../opengraphimg/opengraph-docs.png" />


  <link rel="shortcut icon" href="../../favicon.ico" sizes="128x128" />
  <link rel="apple-touch-icon" href="../../apple-touch-icon.png">

  <title>Syntax Highlight Guide | Visual Studio Code Extension
API</title>

  <link rel="stylesheet" href="../../vendor/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../dist/style.css">

  <script type="text/javascript" src="../../../js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js"></script>
  <script>
  window.appInsights = new oneDS.ApplicationInsights();
  window.appInsights.initialize({
    instrumentationKey: "1a3eb3104447440391ad5f2a6ee06a0a-62879566-bc58-4741-9650-302bf2af703f-7103",
    webAnalyticsConfiguration:{ // Web Analytics Plugin configuration
        urlCollectQuery:true, 
        autoCapture: {
          scroll: true,
          pageView: true,
          onLoad: true,
          onUnload: true,
          click: true,
          resize: true,
          jsError: true
        }
    }
  }, []);
  </script>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');
  </script>  
  <link rel="alternate" type="application/atom+xml" title="RSS Feed for code.visualstudio.com" href="../../feed.xml" />
</head>

<body>
  <!-- EU Cookie Compliance JS -->
  <script src="../../../wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>

  <div id="main">
          <div class="navbar-fixed-container">
              <div class="navbar navbar-inverse navbar-fixed-top ">
                  <div id='cookie-banner'></div>        <nav role="navigation" aria-label="Top Level">
                      <div class="container">
                          <div class="nav navbar-header">
                              <a role="button" id="skip-to-content" class="link-button" href="#main-content">Skip to content<i>&nbsp;</i><span class="glyphicon glyphicon-menu-down"></span></a>
                              <a class="navbar-brand" id="navbar-brand" href="../../index.html">Visual Studio Code</a>
                              <button type="button" class="navbar-toggle" role="navigation" data-toggle="collapse" data-target=".navbar-collapse" aria-label="Toggle Navigation Menu">
                                  <span class="icon-bar"></span>
                                  <span class="icon-bar"></span>
                                  <span class="icon-bar"></span>
                              </button>
                          </div>
                          <div class="navbar-collapse collapse" role="navigation">
                              <ul class="nav navbar-nav navbar-left">
                                  <li ><a id="nav-docs" href="../../docs.html">Docs</a></li>
                                  <li ><a id="nav-updates" href="../../updates/v1_74.html">Updates</a></li>
                                  <li ><a id="nav-blogs" href="../../blogs.html">Blog</a></li>
                                  <li class="active" ><a id="nav-extend" href="../../api.html">API</a></li>
                                  <li><a href="https://marketplace.visualstudio.com/VSCode" target="_blank" id="nav-extensions">Extensions</a></li>
                                  <li ><a id="nav-faqs" href="../../docs/supporting/faq.html">FAQ</a></li>
                                  <li ><a id="nav-learn" href="../../learn.html">Learn</a></li>
                                  <li class='search visible-xs visible-sm'
                                      ><a href="../../Search.html">Search</a></li>
                              </ul>
          
                              <ul class="nav navbar-nav navbar-right" role="presentation">
                                  <!-- Floating search icon -->
                                  <li>
                                      <a href="../../Search.html" title="Search" class="btn search-btn" id="nav-search">
                                          <img class="search-icon" src="../../assets/icons/search.svg" width="16px" height="16px" alt="Search"/>
                                          <img class="search-icon-inverted" src="../../assets/icons/search_dark.svg" width="16px" height="16px" alt="Search" />
                                      </a>
                                  </li>
                                  <!-- Actual search icon -->
                                  <li class="search" role="presentation">
                                      <form class="nav-search search-form" role="search" aria-label="Search">
                                          <div class="input-group" role="presentation">
                                              <input type="text" name="q" class="search-box form-control" placeholder="Search Docs" aria-label="Search text"/>
                                              <span class="input-group-btn">
                                                  <button tabindex="0" class="btn" type="submit" aria-label="Search">
                                                          <img class="search-icon" src="../../assets/icons/search.svg" width="16px" height="16px" alt="Search" />
                                                          <img class="search-icon-inverted" src="../../assets/icons/search_dark.svg" width="16px" height="16px" alt="Search" />
                                                  </button>
                                              </span>
                                          </div>
                                      </form>                        </li>
                                  <!-- this was hiden in the home and download page, keeping it for now -->
                                  <li><a class="link-button" href="../../Download.html" id="nav-download">
                                      <img class="download-icon" src="../../assets/icons/download.svg" width="16px" height="16px" alt="Download VS Code"/>
                                      <img class="download-icon-inverted" src="../../assets/icons/download-black.svg" width="16px" height="16px" alt="Download VS Code" />
                                      <span>Download</span>
                                  </a></li>
                              </ul>
                          </div>
                      </div>
                  </nav>
              </div>
          </div>          <div class="updates-banner  ">
              <div class="container">
                  <p class="message"><a href="../../updates/v1_74.html" id="banner-link-updates">Version 1.74</a> is now available! Read about the new features and fixes from November.</p> 
              </div>
              <div tabindex="0" role="button" title="Dismiss this update" class="dismiss-btn" id="banner-dismiss-btn"><span class="sr-only">Dismiss this update</span><span aria-hidden="true" class="glyph-icon"></span></div>
          </div>      <div role="main" id="main-content">
        <div class="container body-content docs">
	<div class="row">
		<div class="col-md-2 docs-navbar-container">
			<nav id="docs-navbar" class="docs-nav visible-md visible-lg">
			  <ul class="nav" id="main-nav">
			  <li >
			    <a class="docs-home" href="../../api.html" >Overview</a>
			  </li>
			  
			<li class="panel collapsed">
			  <a class="area" role="button" href="#get-started-articles" data-parent="#main-nav" data-toggle="collapse">Get Started</a>
			  <ul id="get-started-articles" class="collapse ">
			
			    <li >
			      <a href="../get-started/your-first-extension.html" >Your First Extension</a>
			    </li>
			      
			    <li >
			      <a href="../get-started/extension-anatomy.html" >Extension Anatomy</a>
			    </li>
			      
			    <li >
			      <a href="../get-started/wrapping-up.html" >Wrapping Up</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#extension-capabilities-articles" data-parent="#main-nav" data-toggle="collapse">Extension Capabilities</a>
			  <ul id="extension-capabilities-articles" class="collapse ">
			
			    <li >
			      <a href="../extension-capabilities/overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="../extension-capabilities/common-capabilities.html" >Common Capabilities</a>
			    </li>
			      
			    <li >
			      <a href="../extension-capabilities/theming.html" >Theming</a>
			    </li>
			      
			    <li >
			      <a href="../extension-capabilities/extending-workbench.html" >Extending Workbench</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#extension-guides-articles" data-parent="#main-nav" data-toggle="collapse">Extension Guides</a>
			  <ul id="extension-guides-articles" class="collapse ">
			
			    <li >
			      <a href="../extension-guides/overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/command.html" >Command</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/color-theme.html" >Color Theme</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/file-icon-theme.html" >File Icon Theme</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/product-icon-theme.html" >Product Icon Theme</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/tree-view.html" >Tree View</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/webview.html" >Webview</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/notebook.html" >Notebook</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/custom-editors.html" >Custom Editors</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/virtual-documents.html" >Virtual Documents</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/virtual-workspaces.html" >Virtual Workspaces</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/web-extensions.html" >Web Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/workspace-trust.html" >Workspace Trust</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/task-provider.html" >Task Provider</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/scm-provider.html" >Source Control</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/debugger-extension.html" >Debugger Extension</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/markdown-extension.html" >Markdown Extension</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/testing.html" >Test Extension</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/custom-data-extension.html" >Custom Data Extension</a>
			    </li>
			      
			    <li >
			      <a href="../extension-guides/telemetry.html" >Telemetry</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#ux-guidelines-articles" data-parent="#main-nav" data-toggle="collapse">UX Guidelines</a>
			  <ul id="ux-guidelines-articles" class="collapse ">
			
			    <li >
			      <a href="../ux-guidelines/overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/activity-bar.html" >Activity Bar</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/sidebars.html" >Sidebars</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/panel.html" >Panel</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/status-bar.html" >Status Bar</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/views.html" >Views</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/editor-actions.html" >Editor Actions</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/quick-picks.html" >Quick Picks</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/command-palette.html" >Command Palette</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/notifications.html" >Notifications</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/webviews.html" >Webviews</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/context-menus.html" >Context Menus</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/walkthroughs.html" >Walkthroughs</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/settings.html" >Settings</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel active expanded">
			  <a class="area" role="button" href="#language-extensions-articles" data-parent="#main-nav" data-toggle="collapse">Language Extensions</a>
			  <ul id="language-extensions-articles" class="collapse in">
			
			    <li >
			      <a href="overview.html" >Overview</a>
			    </li>
			      
			    <li class="active">
			      <a href="syntax-highlight-guide.html" aria-label="Current Page: Syntax Highlight Guide">Syntax Highlight Guide</a>
			    </li>
			      
			    <li >
			      <a href="semantic-highlight-guide.html" >Semantic Highlight Guide</a>
			    </li>
			      
			    <li >
			      <a href="snippet-guide.html" >Snippet Guide</a>
			    </li>
			      
			    <li >
			      <a href="language-configuration-guide.html" >Language Configuration Guide</a>
			    </li>
			      
			    <li >
			      <a href="programmatic-language-features.html" >Programmatic Language Features</a>
			    </li>
			      
			    <li >
			      <a href="language-server-extension-guide.html" >Language Server Extension Guide</a>
			    </li>
			      
			    <li >
			      <a href="embedded-languages.html" >Embedded Languages</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#working-with-extensions-articles" data-parent="#main-nav" data-toggle="collapse">Testing and Publishing</a>
			  <ul id="working-with-extensions-articles" class="collapse ">
			
			    <li >
			      <a href="../working-with-extensions/testing-extension.html" >Testing Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../working-with-extensions/publishing-extension.html" >Publishing Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../working-with-extensions/bundling-extension.html" >Bundling Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../working-with-extensions/continuous-integration.html" >Continuous Integration</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#advanced-topics-articles" data-parent="#main-nav" data-toggle="collapse">Advanced Topics</a>
			  <ul id="advanced-topics-articles" class="collapse ">
			
			    <li >
			      <a href="../advanced-topics/extension-host.html" >Extension Host</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/remote-extensions.html" >Remote Development and Codespaces</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/using-proposed-api.html" >Using Proposed API</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/tslint-eslint-migration.html" >Migrate from TSLint to ESLint</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/python-extension-template.html" >Python Extension Template</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#references-articles" data-parent="#main-nav" data-toggle="collapse">References</a>
			  <ul id="references-articles" class="collapse ">
			
			    <li >
			      <a href="../references/vscode-api.html" >VS Code API </a>
			    </li>
			      
			    <li >
			      <a href="../references/contribution-points.html" >Contribution Points</a>
			    </li>
			      
			    <li >
			      <a href="../references/activation-events.html" >Activation Events</a>
			    </li>
			      
			    <li >
			      <a href="../references/extension-manifest.html" >Extension Manifest</a>
			    </li>
			      
			    <li >
			      <a href="../references/commands.html" >Built-in Commands</a>
			    </li>
			      
			    <li >
			      <a href="../references/when-clause-contexts.html" >When clause contexts</a>
			    </li>
			      
			    <li >
			      <a href="../references/theme-color.html" >Theme Color</a>
			    </li>
			      
			    <li >
			      <a href="../references/icons-in-labels.html" >Product Icon Reference</a>
			    </li>
			      
			    <li >
			      <a href="../references/document-selector.html" >Document Selector</a>
			    </li>
			      
			  </ul>
			</li>
			    
			  </ul>
			</nav>
			
			<nav id="small-nav" aria-label="Topics" class="docs-nav hidden-md hidden-lg">
				<h4>Topics</h4>
				<select id="small-nav-dropdown" aria-label="topics">
			    <option value="/api" >Overview</option>
			
			  <optgroup label="Get Started">
			
			    <option value="/api/get-started/your-first-extension" >Your First Extension</option>
			    
			    <option value="/api/get-started/extension-anatomy" >Extension Anatomy</option>
			    
			    <option value="/api/get-started/wrapping-up" >Wrapping Up</option>
			    
			  </optgroup>
			  
			  <optgroup label="Extension Capabilities">
			
			    <option value="/api/extension-capabilities/overview" >Overview</option>
			    
			    <option value="/api/extension-capabilities/common-capabilities" >Common Capabilities</option>
			    
			    <option value="/api/extension-capabilities/theming" >Theming</option>
			    
			    <option value="/api/extension-capabilities/extending-workbench" >Extending Workbench</option>
			    
			  </optgroup>
			  
			  <optgroup label="Extension Guides">
			
			    <option value="/api/extension-guides/overview" >Overview</option>
			    
			    <option value="/api/extension-guides/command" >Command</option>
			    
			    <option value="/api/extension-guides/color-theme" >Color Theme</option>
			    
			    <option value="/api/extension-guides/file-icon-theme" >File Icon Theme</option>
			    
			    <option value="/api/extension-guides/product-icon-theme" >Product Icon Theme</option>
			    
			    <option value="/api/extension-guides/tree-view" >Tree View</option>
			    
			    <option value="/api/extension-guides/webview" >Webview</option>
			    
			    <option value="/api/extension-guides/notebook" >Notebook</option>
			    
			    <option value="/api/extension-guides/custom-editors" >Custom Editors</option>
			    
			    <option value="/api/extension-guides/virtual-documents" >Virtual Documents</option>
			    
			    <option value="/api/extension-guides/virtual-workspaces" >Virtual Workspaces</option>
			    
			    <option value="/api/extension-guides/web-extensions" >Web Extensions</option>
			    
			    <option value="/api/extension-guides/workspace-trust" >Workspace Trust</option>
			    
			    <option value="/api/extension-guides/task-provider" >Task Provider</option>
			    
			    <option value="/api/extension-guides/scm-provider" >Source Control</option>
			    
			    <option value="/api/extension-guides/debugger-extension" >Debugger Extension</option>
			    
			    <option value="/api/extension-guides/markdown-extension" >Markdown Extension</option>
			    
			    <option value="/api/extension-guides/testing" >Test Extension</option>
			    
			    <option value="/api/extension-guides/custom-data-extension" >Custom Data Extension</option>
			    
			    <option value="/api/extension-guides/telemetry" >Telemetry</option>
			    
			  </optgroup>
			  
			  <optgroup label="UX Guidelines">
			
			    <option value="/api/ux-guidelines/overview" >Overview</option>
			    
			    <option value="/api/ux-guidelines/activity-bar" >Activity Bar</option>
			    
			    <option value="/api/ux-guidelines/sidebars" >Sidebars</option>
			    
			    <option value="/api/ux-guidelines/panel" >Panel</option>
			    
			    <option value="/api/ux-guidelines/status-bar" >Status Bar</option>
			    
			    <option value="/api/ux-guidelines/views" >Views</option>
			    
			    <option value="/api/ux-guidelines/editor-actions" >Editor Actions</option>
			    
			    <option value="/api/ux-guidelines/quick-picks" >Quick Picks</option>
			    
			    <option value="/api/ux-guidelines/command-palette" >Command Palette</option>
			    
			    <option value="/api/ux-guidelines/notifications" >Notifications</option>
			    
			    <option value="/api/ux-guidelines/webviews" >Webviews</option>
			    
			    <option value="/api/ux-guidelines/context-menus" >Context Menus</option>
			    
			    <option value="/api/ux-guidelines/walkthroughs" >Walkthroughs</option>
			    
			    <option value="/api/ux-guidelines/settings" >Settings</option>
			    
			  </optgroup>
			  
			  <optgroup label="Language Extensions">
			
			    <option value="/api/language-extensions/overview" >Overview</option>
			    
			    <option value="/api/language-extensions/syntax-highlight-guide" selected>Syntax Highlight Guide</option>
			    
			    <option value="/api/language-extensions/semantic-highlight-guide" >Semantic Highlight Guide</option>
			    
			    <option value="/api/language-extensions/snippet-guide" >Snippet Guide</option>
			    
			    <option value="/api/language-extensions/language-configuration-guide" >Language Configuration Guide</option>
			    
			    <option value="/api/language-extensions/programmatic-language-features" >Programmatic Language Features</option>
			    
			    <option value="/api/language-extensions/language-server-extension-guide" >Language Server Extension Guide</option>
			    
			    <option value="/api/language-extensions/embedded-languages" >Embedded Languages</option>
			    
			  </optgroup>
			  
			  <optgroup label="Testing and Publishing">
			
			    <option value="/api/working-with-extensions/testing-extension" >Testing Extensions</option>
			    
			    <option value="/api/working-with-extensions/publishing-extension" >Publishing Extensions</option>
			    
			    <option value="/api/working-with-extensions/bundling-extension" >Bundling Extensions</option>
			    
			    <option value="/api/working-with-extensions/continuous-integration" >Continuous Integration</option>
			    
			  </optgroup>
			  
			  <optgroup label="Advanced Topics">
			
			    <option value="/api/advanced-topics/extension-host" >Extension Host</option>
			    
			    <option value="/api/advanced-topics/remote-extensions" >Remote Development and Codespaces</option>
			    
			    <option value="/api/advanced-topics/using-proposed-api" >Using Proposed API</option>
			    
			    <option value="/api/advanced-topics/tslint-eslint-migration" >Migrate from TSLint to ESLint</option>
			    
			    <option value="/api/advanced-topics/python-extension-template" >Python Extension Template</option>
			    
			  </optgroup>
			  
			  <optgroup label="References">
			
			    <option value="/api/references/vscode-api" >VS Code API </option>
			    
			    <option value="/api/references/contribution-points" >Contribution Points</option>
			    
			    <option value="/api/references/activation-events" >Activation Events</option>
			    
			    <option value="/api/references/extension-manifest" >Extension Manifest</option>
			    
			    <option value="/api/references/commands" >Built-in Commands</option>
			    
			    <option value="/api/references/when-clause-contexts" >When clause contexts</option>
			    
			    <option value="/api/references/theme-color" >Theme Color</option>
			    
			    <option value="/api/references/icons-in-labels" >Product Icon Reference</option>
			    
			    <option value="/api/references/document-selector" >Document Selector</option>
			    
			  </optgroup>
			  
				</select>
			</nav>		</div>
		<div class="col-sm-9 col-md-8 body">
			<div class="edit-github pull-right">
				<a href="https://vscode.dev/github/microsoft/vscode-docs/blob/main/api/language-extensions/syntax-highlight-guide.md"
					class="btn btn-default" title="Edit this document in vscode.dev">
					<span class="glyphicon glyphicon-pencil"></span>
					<span class="hidden-xs">Edit</span>
				</a>
			</div>
			<h1>Syntax Highlight Guide</h1>
<p>Syntax highlighting determines the color and style of source code displayed in the Visual Studio Code editor. It is responsible for colorizing keywords like <code>if</code> or <code>for</code> in JavaScript differently than strings and comments and variable names.</p>
<p>There are two components to syntax highlighting:</p>
<ul>
<li><a href="#tokenization">Tokenization</a>: Breaking text into a list of tokens</li>
<li><a href="#theming">Theming</a>: Using themes or user settings to map the tokens to specific colors and styles</li>
</ul>
<p>Before diving into the details, a good start is to play with the <a href="#scope-inspector">scope inspector</a> tool and explore what tokens are present in a source file and what theme rules they match to. To see both semantic and syntax token, use a built-in theme (for example, Dark+) on a TypeScript file.</p>
<h2 id="tokenization" data-needslink="tokenization">Tokenization</h2>
<p>The tokenization of text is about breaking the text into segments and to classify each segment with a token type.</p>
<p>VS Code's tokenization engine is powered by <a href="https://macromates.com/manual/en/language_grammars" class="external-link" target="_blank">TextMate grammars</a>. TextMate grammars are a structured collection of regular expressions and are written as a plist (XML) or JSON files. VS Code extensions can contribute grammars through the <code>grammars</code> contribution point.</p>
<p>The TextMate tokenization engine runs in the same process as the renderer and tokens are updated as the user types. Tokens are used for syntax highlighting, but also to classify the source code into areas of comments, strings, regex.</p>
<p>Starting with release 1.43, VS Code also allows extensions to provide tokenization through a <a href="../references/vscode-api.html#DocumentSemanticTokensProvider">Semantic Token Provider</a>. Semantic providers are typically implemented by language servers that have a deeper understanding of the source file and can resolve symbols in the context of the project. For example, a constant variable name can be rendered using constant highlighting throughout the project, not just at the place of its declaration.</p>
<p>Highlighting based on semantic tokens is considered an addition to the TextMate-based syntax highlighting. Semantic highlighting goes on top of the syntax highlighting. And as language servers can take a while to load and analyze a project, semantic token highlighting may appear after a short delay.</p>
<p>This article focuses on the TextMate-based tokenization. Semantic tokenization and theming are explained in the <a href="semantic-highlight-guide.html">Semantic Highlighting guide</a>.</p>
<h3 id="textmate-grammars" data-needslink="textmate-grammars">TextMate grammars</h3>
<p>VS Code uses <a href="https://macromates.com/manual/en/language_grammars" class="external-link" target="_blank">TextMate grammars</a> as the syntax tokenization engine. Invented for the TextMate editor, they have been adopted by many other editors and IDEs due to large number of language bundles created and maintained by the Open Source community.</p>
<p>TextMate grammars rely on <a href="https://macromates.com/manual/en/regular_expressions" class="external-link" target="_blank">Oniguruma regular expressions</a> and are typically written as a plist or JSON. You can find a good introduction to TextMate grammars <a href="https://www.apeth.com/nonblog/stories/textmatebundle.html" class="external-link" target="_blank">here</a>, and you can take a look at existing TextMate grammars to learn more about how they work.</p>
<h3 id="textmate-tokens-and-scopes" data-needslink="textmate-tokens-and-scopes">TextMate tokens and scopes</h3>
<p>Tokens are one or more characters that are part of the same program element. Example tokens include operators such as <code>+</code> and <code>*</code>, variable names such as <code>myVar</code>, or strings such as <code>&quot;my string&quot;</code>.</p>
<p>Each token is associated with a scope that defines the context of the token. A scope is a dot separated list of identifiers that specify the context of the current token. The <code>+</code> operation in JavaScript, for example, has the scope <code>keyword.operator.arithmetic.js</code>.</p>
<p>Themes map scopes to colors and styles to provide syntax highlighting. TextMate provides <a href="https://macromates.com/manual/en/language_grammars" class="external-link" target="_blank">list of common scopes</a> that many themes target. In order to have your grammar as broadly supported as possible, try to build on existing scopes rather than defining new ones.</p>
<p>Scopes nest so that each token is also associated with a list of parent scopes. The example below uses the <a href="#scope-inspector">scope inspector</a> to show the scope hierarchy for the <code>+</code> operator in a simple JavaScript function. The most specific scope is listed at the top, with more general parent scopes listed below:</p>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/scopes.png" alt="syntax highlighting scopes" loading="lazy"></p>
<p>Parent scope information is also used for theming. When a theme targets a scope, all tokens with that parent scope will be colorized unless the theme also provides a more specific colorization for their individual scopes.</p>
<h3 id="contributing-a-basic-grammar" data-needslink="contributing-a-basic-grammar">Contributing a basic grammar</h3>
<p>VS Code supports json TextMate grammars. These are contributed through the <code>grammars</code> <a href="../references/contribution-points.html">contribution point</a>.</p>
<p>Each grammar contribution specifies: the identifier of the language the grammar applies to, the top-level scope name for the tokens of the grammar, and the relative path to a grammar file. The example below shows a grammar contribution for a fictional <code>abc</code> language:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;contributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;languages&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;id&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;abc&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;extensions&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;.abc&quot;</span><span style="color: #000000">]</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ],</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;grammars&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;language&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;abc&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;source.abc&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;path&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./syntaxes/abc.tmGrammar.json&quot;</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>The grammar file itself consists of a top-level rule. This is typically split into a <code>patterns</code> section that lists the top-level elements of the program and a <code>repository</code> that defines each of the elements. Other rules in the grammar can reference elements from the <code>repository</code> using <code>{ &quot;include&quot;: &quot;#id&quot; }</code>.</p>
<p>The example <code>abc</code> grammar marks the letters <code>a</code>, <code>b</code>, and <code>c</code> as keywords, and nestings of parens as expressions.</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;source.abc&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;patterns&quot;</span><span style="color: #000000">: [{ </span><span style="color: #0451A5">&quot;include&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;#expression&quot;</span><span style="color: #000000"> }],</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;repository&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;expression&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;patterns&quot;</span><span style="color: #000000">: [{ </span><span style="color: #0451A5">&quot;include&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;#letter&quot;</span><span style="color: #000000"> }, { </span><span style="color: #0451A5">&quot;include&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;#paren-expression&quot;</span><span style="color: #000000"> }]</span></span>
<span class="line"><span style="color: #000000">    },</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;letter&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;match&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;a|b|c&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;keyword.letter&quot;</span></span>
<span class="line"><span style="color: #000000">    },</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;paren-expression&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;begin&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;</span><span style="color: #EE0000">\\</span><span style="color: #A31515">(&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;end&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;</span><span style="color: #EE0000">\\</span><span style="color: #A31515">)&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;beginCaptures&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;0&quot;</span><span style="color: #000000">: { </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;punctuation.paren.open&quot;</span><span style="color: #000000"> }</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;endCaptures&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;0&quot;</span><span style="color: #000000">: { </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;punctuation.paren.close&quot;</span><span style="color: #000000"> }</span></span>
<span class="line"><span style="color: #000000">      },</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;expression.group&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;patterns&quot;</span><span style="color: #000000">: [{ </span><span style="color: #0451A5">&quot;include&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;#expression&quot;</span><span style="color: #000000"> }]</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>The grammar engine will try to successively apply the <code>expression</code> rule to all text in the document. For a simple program such as:</p>
<pre class="shiki"><code>a
(
    b
)
x
(
    (
        c
        xyz
    )
)
(
a
</code></pre>
<p>The example grammar produces the following scopes (listed left-to-right from most specific to least specific scope):</p>
<pre class="shiki"><code>a               keyword.letter, source.abc
(               punctuation.paren.open, expression.group, source.abc
    b           keyword.letter, expression.group, source.abc
)               punctuation.paren.close, expression.group, source.abc
x               source.abc
(               punctuation.paren.open, expression.group, source.abc
    (           punctuation.paren.open, expression.group, expression.group, source.abc
        c       keyword.letter, expression.group, expression.group, source.abc
        xyz     expression.group, expression.group, source.abc
    )           punctuation.paren.close, expression.group, expression.group, source.abc
)               punctuation.paren.close, expression.group, source.abc
(               punctuation.paren.open, expression.group, source.abc
a               keyword.letter, expression.group, source.abc
</code></pre>
<p>Note that text that is not matched by one of the rules, such as the string <code>xyz</code>, is included in the current scope. The last parenthesis at the end of the file is part of the <code>expression.group</code> even if the <code>end</code> rule is not matched, as <code>end-of-document</code> was found before the <code>end</code> rule was.</p>
<h3 id="embedded-languages" data-needslink="embedded-languages">Embedded languages</h3>
<p>If your grammar includes embedded languages within the parent language, such as CSS style blocks in HTML, you can use the <code>embeddedLanguages</code> contribution point to tell VS Code to treat the embedded language as distinct from the parent language. This ensures that bracket matching, commenting, and other basic language features work as expected in the embedded language.</p>
<p>The <code>embeddedLanguages</code> contribution point maps a scope in the embedded language to a top-level language scope. In the example below, any tokens in the <code>meta.embedded.block.javascript</code> scope will be treated as JavaScript content:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;contributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;grammars&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;path&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./syntaxes/abc.tmLanguage.json&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;source.abc&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;embeddedLanguages&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #0451A5">&quot;meta.embedded.block.javascript&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;javascript&quot;</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>Now if you try to comment code or trigger snippets inside a set of tokens marked <code>meta.embedded.block.javascript</code>, they will get the correct <code>//</code> JavaScript style comment and the correct JavaScript snippets.</p>
<h3 id="developing-a-new-grammar-extension" data-needslink="developing-a-new-grammar-extension">Developing a new grammar extension</h3>
<p>To quickly create a new grammar extension, use <a href="../get-started/your-first-extension.html">VS Code's Yeoman templates</a> to run <code>yo code</code> and select the <code>New Language</code> option:</p>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/yo-new-language.png" alt="Selecting the 'new language' template in 'yo code'" loading="lazy"></p>
<p>Yeoman will walk you through some basic questions to scaffold the new extension. The important questions for creating a new grammar are:</p>
<ul>
<li><code>Language id</code> - A unique identifier for your language.</li>
<li><code>Language name</code> - A human readable name for your language.</li>
<li><code>Scope names</code> - Root TextMate scope name for your grammar.</li>
</ul>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/yo-new-language-questions.png" alt="Filling in the 'new language' questions" loading="lazy"></p>
<p>The generator assumes that you want to define both a new language and a new grammar for that language. If you are creating a grammar for an existing language, just fill these in with your target language's information and be sure to delete the <code>languages</code> contribution point in the generated <code>package.json</code>.</p>
<p>After answering all the questions, Yeoman will create a new extension with the structure:</p>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/generated-new-language-extension.png" alt="A new language extension" loading="lazy"></p>
<p>Remember, if you are contributing a grammar to a language that VS Code already knows about, be sure to delete the <code>languages</code> contribution point in the generated <code>package.json</code>.</p>
<h4>Converting an existing TextMate grammar</h4>
<p><code>yo code</code> can also help convert an existing TextMate grammar to a VS Code extension. Again, start by running <code>yo code</code> and selecting <code>Language extension</code>. When asked for an existing grammar file, give it the full path to either a <code>.tmLanguage</code> or <code>.json</code> TextMate grammar file:</p>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/yo-convert.png" alt="Converting an existing TextMate grammar" loading="lazy"></p>
<h4>Using YAML to write a grammar</h4>
<p>As a grammar grows more complex, it can become difficult to understand and maintain it as json. If you find yourself writing complex regular expressions or needing to add comments to explain aspects of the grammar, consider using yaml to define your grammar instead.</p>
<p>Yaml grammars have the exact same structure as a json based grammar but allow you to use yaml's more concise syntax, along with features such as multi-line strings and comments.</p>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/yaml-grammar.png" alt="A yaml grammar using multiline strings and comments" loading="lazy"></p>
<p>VS Code can only load json grammars, so yaml based grammars must be converted to json. The <a href="https://www.npmjs.com/package/js-yaml" class="external-link" target="_blank"><code>js-yaml</code> package</a> and command-line tool makes this easy.</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #008000"># Install js-yaml as a development only dependency in your extension</span></span>
<span class="line"><span style="color: #000000">$ npm install js-yaml --save-dev</span></span>
<span class="line"></span>
<span class="line"><span style="color: #008000"># Use the command-line tool to convert the yaml grammar to json</span></span>
<span class="line"><span style="color: #000000">$ npx js-yaml syntaxes/abc.tmLanguage.yaml &gt; syntaxes/abc.tmLanguage.json</span></span>
<span class="line"></span></code></pre>
<h3 id="injection-grammars" data-needslink="injection-grammars">Injection grammars</h3>
<p>Injection grammars let you extend an existing grammar. An injection grammar is a regular TextMate grammar that is injected into a specific scope within an existing grammar. Example applications of injection grammars:</p>
<ul>
<li>Highlighting keywords such as <code>TODO</code> in comments.</li>
<li>Add more specific scope information to an existing grammar.</li>
<li>Adding highlighting for a new language to Markdown fenced code blocks.</li>
</ul>
<h4>Creating a basic injection grammar</h4>
<p>Injection grammars are contributed though the <code>package.json</code> just like regular grammars. However, instead of specifying a <code>language</code>, an injection grammar uses <code>injectTo</code> to specify a list of target language scopes to inject the grammar into.</p>
<p>For this example, we'll create a simple injection grammar that highlights <code>TODO</code> as a keyword in JavaScript comments. To apply our injection grammar in JavaScript files, we use the <code>source.js</code> target language scope in <code>injectTo</code>:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;contributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;grammars&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;path&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./syntaxes/injection.json&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;todo-comment.injection&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;injectTo&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;source.js&quot;</span><span style="color: #000000">]</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>The grammar itself is a standard TextMate grammar except for the top level <code>injectionSelector</code> entry. The <code>injectionSelector</code> is a scope selector that specifies which scopes the injected grammar should be applied in. For our example, we want to highlight the word <code>TODO</code> in all <code>//</code> comments. Using the <a href="#scope-inspector">scope inspector</a>, we find that JavaScript's double slash comments have the scope <code>comment.line.double-slash</code>, so our injection selector is <code>L:comment.line.double-slash</code>:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;todo-comment.injection&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;injectionSelector&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;L:comment.line.double-slash&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;patterns&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;include&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;#todo-keyword&quot;</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">  ],</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;repository&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;todo-keyword&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;match&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;TODO&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;keyword.todo&quot;</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>The <code>L:</code> in the injection selector means that the injection is added to the left of existing grammar rules. This basically means that our injected grammar's rules will be applied before any existing grammar rules.</p>
<h4>Embedded languages</h4>
<p>Injection grammars can also contribute embedded languages to their parent grammar. Just like with a normal grammar, an injection grammar can use <code>embeddedLanguages</code> to map scopes from the embedded language to a top-level language scope.</p>
<p>An extension that highlights SQL queries in JavaScript strings, for example, may use <code>embeddedLanguages</code> to make sure all token inside the string marked <code>meta.embedded.inline.sql</code> are treated as SQL for basic language features such as bracket matching and snippet selection.</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;contributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;grammars&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;path&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./syntaxes/injection.json&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;sql-string.injection&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;injectTo&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;source.js&quot;</span><span style="color: #000000">],</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;embeddedLanguages&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #0451A5">&quot;meta.embedded.inline.sql&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;sql&quot;</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<h4>Token types and embedded languages</h4>
<p>There is one additional complication for injection languages embedded languages: by default, VS Code treats all tokens within a string as string contents and all tokens with a comment as token content. Since features such as bracket matching and auto closing pairs are disabled inside of strings and comments, if the embedded language appears inside a string or comment, these features will also be disabled in the embedded language.</p>
<p>To override this behavior, you can use a <code>meta.embedded.*</code> scope to reset VS Code's marking of tokens as string or comment content. It is a good idea to always wrap embedded language in a <code>meta.embedded.*</code> scope to make sure VS Code treats the embedded language properly.</p>
<p>If you can't add a <code>meta.embedded.*</code> scope to your grammar, you can alternatively use <code>tokenTypes</code> in the grammar's contribution point to map specific scopes to content mode. The <code>tokenTypes</code> section below ensures that any content in the <code>my.sql.template.string</code> scope is treated as source code:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;contributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;grammars&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;path&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./syntaxes/injection.json&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;scopeName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;sql-string.injection&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;injectTo&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;source.js&quot;</span><span style="color: #000000">],</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;embeddedLanguages&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #0451A5">&quot;my.sql.template.string&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;sql&quot;</span></span>
<span class="line"><span style="color: #000000">        },</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;tokenTypes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #0451A5">&quot;my.sql.template.string&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;other&quot;</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  }</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<h2 id="theming" data-needslink="theming">Theming</h2>
<p>Theming is about assigning colors and styles to tokens. Theming rules are specified in color themes, but users can customize the theming rules in the user settings.</p>
<p>TextMate theme rules are defined in <code>tokenColors</code> and have the same syntax as regular TextMate themes. Each rule defines a TextMate scope selector and a resulting color and style.</p>
<p>When evaluating the color and style of a token, the current token's scope is matched against the rule's selector to find the most specific rule for each style property (foreground, bold, italic, underline)</p>
<p>The <a href="../extension-guides/color-theme.html#syntax-colors">Color Theme guide</a> describes how to create a color theme. Theming for semantic tokens is explained in the <a href="semantic-highlight-guide.html#theming">Semantic Highlighting guide</a>.</p>
<h2 id="scope-inspector" data-needslink="scope-inspector">Scope inspector</h2>
<p>VS Code's built-in scope inspector tool helps debug grammars and semantic tokens. It displays the scopes for the token and the semantic tokens at the current position in a file, along with metadata about which theme rules apply to that token.</p>
<p>Trigger the scope inspector from the Command Palette with the <code>Developer: Inspect Editor Tokens and Scopes</code> command or <a href="../../docs/getstarted/keybindings.html">create a keybinding</a> for it:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;key&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;cmd+alt+shift+i&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;command&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;editor.action.inspectTMScopes&quot;</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p><img src="../../assets/api/language-extensions/syntax-highlighting/scope-inspector.png" alt="scope inspector" loading="lazy"></p>
<p>The scope inspector displays the following information:</p>
<ol>
<li>The current token.</li>
<li>Metadata about the token and information about its computed appearance. If you are working with embedded languages, the important entries here <code>language</code> and <code>token type</code>.</li>
<li>The semantic token section is shown when a semantic token provider is available for the current language and when the current theme supports semantic highlighting. It shows the current semantic token type and modifiers along with the theme rules that match the semantic token type and modifiers.</li>
<li>The TextMate section shows the scope list for the current TextMate token, with the most specific scope at the top. It also shows the most specific theme rules that match the scopes. This only shows the theme rules that are responsible for the token's current style, it does not show overridden rules. If semantic tokens are present, the theme rules are only shown when they differ from the rule matching the semantic token.</li>
</ol>

			<div class="feedback"></div>
			
			<div class="body-footer">12/7/2022</div>
			
		</div>
		<div class="col-sm-3 col-md-2 docs-subnavbar-container">
			<nav id="docs-subnavbar" aria-label="On Page" data-spy="affix" data-offset-top="20">
				
				<h4><span class="sr-only">In this article there are 3 sections</span><span
						aria-hidden="true">In this article</span></h4>
				<ul class="nav">
					
					<li><a href="#tokenization">Tokenization</a></li>
					
					<li><a href="#theming">Theming</a></li>
					
					<li><a href="#scope-inspector">Scope inspector</a></li>
					
				</ul>
				
				<div class="connect-widget"></div>
			</nav>
		</div>
	</div>
</div>
      </div>
  </div>

  <footer role="contentinfo">
      <div class="container">
          <div class="row">
              <div class="left col-md-7">
                  <ul class="links">
                      <li>
                          <span class="message">Hello from Seattle.</span>
                      </li>
                      <li>
                          <a href="https://go.microsoft.com/fwlink/?LinkID=533687" onclick="followOnTwitter()" tabindex="0">Follow @code</a>
                      </li>
                      <li>
                          <div class="github-star-button">
                              <iframe src="../../assets/github-button29be.html?user=Microsoft&amp;repo=vscode&amp;type=star&amp;count=true"
                                  frameborder="0" scrolling="0" width="130px" height="20px" title="GitHub follow button" loading="lazy"></iframe>
                          </div>
                      </li>
  
                      <script>
                          function followOnTwitter() {
                              var windowFeatures = "location=yes,height=600,width=550,scrollbars=yes,status=yes";
                              var originalReferer = "&original_referer=" + document.URL;
                              var screenName = "&screen_name=code";
                              var URL = "https://twitter.com/intent/follow?" + originalReferer + screenName;
                              window.open(URL, "_blank", windowFeatures);
                          }
  
                          function manageConsent() {
                              if(WcpConsent.siteConsent.isConsentRequired){
                                  WcpConsent.siteConsent.manageConsent();
                              }
                          }
                      </script>
                  </ul>
              </div>
              <div class="right col-md-5">
                  <ul class="links">
                      <li><a id="footer-support-link" href="https://support.serviceshub.microsoft.com/supportforbusiness/create?sapId=d66407ed-3967-b000-4cfb-2c318cad363d"
                              target="_blank">Support</a></li>
                      <li><a id="footer-privacy-link" href="https://privacy.microsoft.com/privacystatement"
                              target="_blank">Privacy</a></li>
                      <li style="display: none;"><a id="footer-cookie-link" style="cursor: pointer;" onclick="manageConsent()"
                              target="_blank">Manage Cookies</a></li>
                      <li><a id="footer-terms-link" href="https://www.microsoft.com/legal/terms-of-use"
                              target="_blank">Terms of Use</a></li>
                      <li><a id="footer-license-link" href="../../License.html">License</a></li>
                  </ul>
                  <div class="copyright">
                      <a id="footer-microsoft-link" class="logo" href="https://www.microsoft.com/">
                          <img class="microsoft-logo" src="../../assets/images/microsoft-logo.png" height="20" alt="Microsoft homepage"/>
                          <img class="microsoft-logo-inverted" src="../../assets/images/microsoft-logo-inverted.png" height="20" alt="Microsoft homepage" />
                      </a>
                      <span>&copy; 2023 Microsoft</span>
                  </div>
              </div>
          </div>
      </div>
  </footer>
  <script src="../../dist/index.js"></script>

  

  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "SoftwareApplication",
      "name" : "Visual Studio Code",
      "softwareVersion": "1.74",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "applicationCategory": "DeveloperApplication",
      "applicationSubCategory": "Text Editor",
      "alternateName": "VS Code",
      "datePublished": "2021-11-03",
      "operatingSystem": "Mac, Linux, Windows",
      "logo": "https://code.visualstudio.com/assets/apple-touch-icon.png",
      "screenshot": "https://code.visualstudio.com/assets/home/home-screenshot-win.png",
      "releaseNotes": "https://code.visualstudio.com/updates",
      "downloadUrl": "https://code.visualstudio.com/download",
      "license": "https://code.visualstudio.com/license",
      "softwareRequirements": "https://code.visualstudio.com/docs/supporting/requirements",
      "url" : "https://code.visualstudio.com",
      "author": {
        "@type": "Organization",
        "name": "Microsoft"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Microsoft"
      },
      "maintainer": {
        "@type": "Organization",
        "name": "Microsoft"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://code.visualstudio.com/Search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "sameAs" : [
        "https://en.wikipedia.org/wiki/Visual_Studio_Code",
        "https://twitter.com/code",
        "https://www.youtube.com/code",
        "https://www.tiktok.com/@vscode",
        "https://github.com/microsoft/vscode"
      ]
    }
  </script>
</body>

<!-- Mirrored from code.visualstudio.com/api/language-extensions/syntax-highlight-guide by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Jan 2023 11:27:05 GMT -->
</html>