<!DOCTYPE html>
<html lang="en">

<!-- Mirrored from code.visualstudio.com/api/extension-guides/debugger-extension by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Jan 2023 11:25:43 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="google-site-verification" content="hNs7DXrTySP_X-0P_AC0WulAXvUwgSXEmgfcO2r79dw" />

  <!-- Twitter and Facebook OpenGraph Metadata-->
  <meta name="twitter:card" content="summary_large_image" />
  <meta name="twitter:site" content="@code" />

  <meta name="keywords" content="vscode API" />

<meta name="description" content="Learn how to provide debugger extensions (plug-ins) for Visual Studio Code through a Debug Adapter." />

<meta name="ms.prod" content="vs-code" />
<meta name="ms.TOCTitle" content="Debugger Extension" />
<meta name="ms.ContentId" content="49EF49AD-8BE6-4D46-ADC8-D678BDC04E85" />
<meta name="ms.topic" content="conceptual" />
<meta name="ms.date" content="12/7/2022" />
<!-- Twitter and Facebook OpenGraph Metadata-->
<meta name="twitter:card" content="summary_large_image" />
<meta property="og:url" content="debugger-extension.html" />

<meta property="og:description" content="Learn how to provide debugger extensions (plug-ins) for Visual Studio Code through a Debug Adapter." />

<meta property="og:type" content="article" />
<meta property="og:title" content="Debugger Extension" />
<meta property="og:image" content="../../opengraphimg/opengraph-docs.png" />


  <link rel="shortcut icon" href="../../favicon.ico" sizes="128x128" />
  <link rel="apple-touch-icon" href="../../apple-touch-icon.png">

  <title>Debugger Extension | Visual Studio Code Extension
API</title>

  <link rel="stylesheet" href="../../vendor/bootstrap/css/bootstrap.min.css">
  <link rel="stylesheet" href="../../dist/style.css">

  <script type="text/javascript" src="../../../js.monitor.azure.com/scripts/c/ms.analytics-web-3.min.js"></script>
  <script>
  window.appInsights = new oneDS.ApplicationInsights();
  window.appInsights.initialize({
    instrumentationKey: "1a3eb3104447440391ad5f2a6ee06a0a-62879566-bc58-4741-9650-302bf2af703f-7103",
    webAnalyticsConfiguration:{ // Web Analytics Plugin configuration
        urlCollectQuery:true, 
        autoCapture: {
          scroll: true,
          pageView: true,
          onLoad: true,
          onUnload: true,
          click: true,
          resize: true,
          jsError: true
        }
    }
  }, []);
  </script>
  
  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','../../../www.google-analytics.com/analytics.js','ga');
  </script>  
  <link rel="alternate" type="application/atom+xml" title="RSS Feed for code.visualstudio.com" href="../../feed.xml" />
</head>

<body>
  <!-- EU Cookie Compliance JS -->
  <script src="../../../wcpstatic.microsoft.com/mscc/lib/v2/wcp-consent.js"></script>

  <div id="main">
          <div class="navbar-fixed-container">
              <div class="navbar navbar-inverse navbar-fixed-top ">
                  <div id='cookie-banner'></div>        <nav role="navigation" aria-label="Top Level">
                      <div class="container">
                          <div class="nav navbar-header">
                              <a role="button" id="skip-to-content" class="link-button" href="#main-content">Skip to content<i>&nbsp;</i><span class="glyphicon glyphicon-menu-down"></span></a>
                              <a class="navbar-brand" id="navbar-brand" href="../../index.html">Visual Studio Code</a>
                              <button type="button" class="navbar-toggle" role="navigation" data-toggle="collapse" data-target=".navbar-collapse" aria-label="Toggle Navigation Menu">
                                  <span class="icon-bar"></span>
                                  <span class="icon-bar"></span>
                                  <span class="icon-bar"></span>
                              </button>
                          </div>
                          <div class="navbar-collapse collapse" role="navigation">
                              <ul class="nav navbar-nav navbar-left">
                                  <li ><a id="nav-docs" href="../../docs.html">Docs</a></li>
                                  <li ><a id="nav-updates" href="../../updates/v1_74.html">Updates</a></li>
                                  <li ><a id="nav-blogs" href="../../blogs.html">Blog</a></li>
                                  <li class="active" ><a id="nav-extend" href="../../api.html">API</a></li>
                                  <li><a href="https://marketplace.visualstudio.com/VSCode" target="_blank" id="nav-extensions">Extensions</a></li>
                                  <li ><a id="nav-faqs" href="../../docs/supporting/faq.html">FAQ</a></li>
                                  <li ><a id="nav-learn" href="../../learn.html">Learn</a></li>
                                  <li class='search visible-xs visible-sm'
                                      ><a href="../../Search.html">Search</a></li>
                              </ul>
          
                              <ul class="nav navbar-nav navbar-right" role="presentation">
                                  <!-- Floating search icon -->
                                  <li>
                                      <a href="../../Search.html" title="Search" class="btn search-btn" id="nav-search">
                                          <img class="search-icon" src="../../assets/icons/search.svg" width="16px" height="16px" alt="Search"/>
                                          <img class="search-icon-inverted" src="../../assets/icons/search_dark.svg" width="16px" height="16px" alt="Search" />
                                      </a>
                                  </li>
                                  <!-- Actual search icon -->
                                  <li class="search" role="presentation">
                                      <form class="nav-search search-form" role="search" aria-label="Search">
                                          <div class="input-group" role="presentation">
                                              <input type="text" name="q" class="search-box form-control" placeholder="Search Docs" aria-label="Search text"/>
                                              <span class="input-group-btn">
                                                  <button tabindex="0" class="btn" type="submit" aria-label="Search">
                                                          <img class="search-icon" src="../../assets/icons/search.svg" width="16px" height="16px" alt="Search" />
                                                          <img class="search-icon-inverted" src="../../assets/icons/search_dark.svg" width="16px" height="16px" alt="Search" />
                                                  </button>
                                              </span>
                                          </div>
                                      </form>                        </li>
                                  <!-- this was hiden in the home and download page, keeping it for now -->
                                  <li><a class="link-button" href="../../Download.html" id="nav-download">
                                      <img class="download-icon" src="../../assets/icons/download.svg" width="16px" height="16px" alt="Download VS Code"/>
                                      <img class="download-icon-inverted" src="../../assets/icons/download-black.svg" width="16px" height="16px" alt="Download VS Code" />
                                      <span>Download</span>
                                  </a></li>
                              </ul>
                          </div>
                      </div>
                  </nav>
              </div>
          </div>          <div class="updates-banner  ">
              <div class="container">
                  <p class="message"><a href="../../updates/v1_74.html" id="banner-link-updates">Version 1.74</a> is now available! Read about the new features and fixes from November.</p> 
              </div>
              <div tabindex="0" role="button" title="Dismiss this update" class="dismiss-btn" id="banner-dismiss-btn"><span class="sr-only">Dismiss this update</span><span aria-hidden="true" class="glyph-icon"></span></div>
          </div>      <div role="main" id="main-content">
        <div class="container body-content docs">
	<div class="row">
		<div class="col-md-2 docs-navbar-container">
			<nav id="docs-navbar" class="docs-nav visible-md visible-lg">
			  <ul class="nav" id="main-nav">
			  <li >
			    <a class="docs-home" href="../../api.html" >Overview</a>
			  </li>
			  
			<li class="panel collapsed">
			  <a class="area" role="button" href="#get-started-articles" data-parent="#main-nav" data-toggle="collapse">Get Started</a>
			  <ul id="get-started-articles" class="collapse ">
			
			    <li >
			      <a href="../get-started/your-first-extension.html" >Your First Extension</a>
			    </li>
			      
			    <li >
			      <a href="../get-started/extension-anatomy.html" >Extension Anatomy</a>
			    </li>
			      
			    <li >
			      <a href="../get-started/wrapping-up.html" >Wrapping Up</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#extension-capabilities-articles" data-parent="#main-nav" data-toggle="collapse">Extension Capabilities</a>
			  <ul id="extension-capabilities-articles" class="collapse ">
			
			    <li >
			      <a href="../extension-capabilities/overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="../extension-capabilities/common-capabilities.html" >Common Capabilities</a>
			    </li>
			      
			    <li >
			      <a href="../extension-capabilities/theming.html" >Theming</a>
			    </li>
			      
			    <li >
			      <a href="../extension-capabilities/extending-workbench.html" >Extending Workbench</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel active expanded">
			  <a class="area" role="button" href="#extension-guides-articles" data-parent="#main-nav" data-toggle="collapse">Extension Guides</a>
			  <ul id="extension-guides-articles" class="collapse in">
			
			    <li >
			      <a href="overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="command.html" >Command</a>
			    </li>
			      
			    <li >
			      <a href="color-theme.html" >Color Theme</a>
			    </li>
			      
			    <li >
			      <a href="file-icon-theme.html" >File Icon Theme</a>
			    </li>
			      
			    <li >
			      <a href="product-icon-theme.html" >Product Icon Theme</a>
			    </li>
			      
			    <li >
			      <a href="tree-view.html" >Tree View</a>
			    </li>
			      
			    <li >
			      <a href="webview.html" >Webview</a>
			    </li>
			      
			    <li >
			      <a href="notebook.html" >Notebook</a>
			    </li>
			      
			    <li >
			      <a href="custom-editors.html" >Custom Editors</a>
			    </li>
			      
			    <li >
			      <a href="virtual-documents.html" >Virtual Documents</a>
			    </li>
			      
			    <li >
			      <a href="virtual-workspaces.html" >Virtual Workspaces</a>
			    </li>
			      
			    <li >
			      <a href="web-extensions.html" >Web Extensions</a>
			    </li>
			      
			    <li >
			      <a href="workspace-trust.html" >Workspace Trust</a>
			    </li>
			      
			    <li >
			      <a href="task-provider.html" >Task Provider</a>
			    </li>
			      
			    <li >
			      <a href="scm-provider.html" >Source Control</a>
			    </li>
			      
			    <li class="active">
			      <a href="debugger-extension.html" aria-label="Current Page: Debugger Extension">Debugger Extension</a>
			    </li>
			      
			    <li >
			      <a href="markdown-extension.html" >Markdown Extension</a>
			    </li>
			      
			    <li >
			      <a href="testing.html" >Test Extension</a>
			    </li>
			      
			    <li >
			      <a href="custom-data-extension.html" >Custom Data Extension</a>
			    </li>
			      
			    <li >
			      <a href="telemetry.html" >Telemetry</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#ux-guidelines-articles" data-parent="#main-nav" data-toggle="collapse">UX Guidelines</a>
			  <ul id="ux-guidelines-articles" class="collapse ">
			
			    <li >
			      <a href="../ux-guidelines/overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/activity-bar.html" >Activity Bar</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/sidebars.html" >Sidebars</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/panel.html" >Panel</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/status-bar.html" >Status Bar</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/views.html" >Views</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/editor-actions.html" >Editor Actions</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/quick-picks.html" >Quick Picks</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/command-palette.html" >Command Palette</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/notifications.html" >Notifications</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/webviews.html" >Webviews</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/context-menus.html" >Context Menus</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/walkthroughs.html" >Walkthroughs</a>
			    </li>
			      
			    <li >
			      <a href="../ux-guidelines/settings.html" >Settings</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#language-extensions-articles" data-parent="#main-nav" data-toggle="collapse">Language Extensions</a>
			  <ul id="language-extensions-articles" class="collapse ">
			
			    <li >
			      <a href="../language-extensions/overview.html" >Overview</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/syntax-highlight-guide.html" >Syntax Highlight Guide</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/semantic-highlight-guide.html" >Semantic Highlight Guide</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/snippet-guide.html" >Snippet Guide</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/language-configuration-guide.html" >Language Configuration Guide</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/programmatic-language-features.html" >Programmatic Language Features</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/language-server-extension-guide.html" >Language Server Extension Guide</a>
			    </li>
			      
			    <li >
			      <a href="../language-extensions/embedded-languages.html" >Embedded Languages</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#working-with-extensions-articles" data-parent="#main-nav" data-toggle="collapse">Testing and Publishing</a>
			  <ul id="working-with-extensions-articles" class="collapse ">
			
			    <li >
			      <a href="../working-with-extensions/testing-extension.html" >Testing Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../working-with-extensions/publishing-extension.html" >Publishing Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../working-with-extensions/bundling-extension.html" >Bundling Extensions</a>
			    </li>
			      
			    <li >
			      <a href="../working-with-extensions/continuous-integration.html" >Continuous Integration</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#advanced-topics-articles" data-parent="#main-nav" data-toggle="collapse">Advanced Topics</a>
			  <ul id="advanced-topics-articles" class="collapse ">
			
			    <li >
			      <a href="../advanced-topics/extension-host.html" >Extension Host</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/remote-extensions.html" >Remote Development and Codespaces</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/using-proposed-api.html" >Using Proposed API</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/tslint-eslint-migration.html" >Migrate from TSLint to ESLint</a>
			    </li>
			      
			    <li >
			      <a href="../advanced-topics/python-extension-template.html" >Python Extension Template</a>
			    </li>
			      
			  </ul>
			</li>
			    
			<li class="panel collapsed">
			  <a class="area" role="button" href="#references-articles" data-parent="#main-nav" data-toggle="collapse">References</a>
			  <ul id="references-articles" class="collapse ">
			
			    <li >
			      <a href="../references/vscode-api.html" >VS Code API </a>
			    </li>
			      
			    <li >
			      <a href="../references/contribution-points.html" >Contribution Points</a>
			    </li>
			      
			    <li >
			      <a href="../references/activation-events.html" >Activation Events</a>
			    </li>
			      
			    <li >
			      <a href="../references/extension-manifest.html" >Extension Manifest</a>
			    </li>
			      
			    <li >
			      <a href="../references/commands.html" >Built-in Commands</a>
			    </li>
			      
			    <li >
			      <a href="../references/when-clause-contexts.html" >When clause contexts</a>
			    </li>
			      
			    <li >
			      <a href="../references/theme-color.html" >Theme Color</a>
			    </li>
			      
			    <li >
			      <a href="../references/icons-in-labels.html" >Product Icon Reference</a>
			    </li>
			      
			    <li >
			      <a href="../references/document-selector.html" >Document Selector</a>
			    </li>
			      
			  </ul>
			</li>
			    
			  </ul>
			</nav>
			
			<nav id="small-nav" aria-label="Topics" class="docs-nav hidden-md hidden-lg">
				<h4>Topics</h4>
				<select id="small-nav-dropdown" aria-label="topics">
			    <option value="/api" >Overview</option>
			
			  <optgroup label="Get Started">
			
			    <option value="/api/get-started/your-first-extension" >Your First Extension</option>
			    
			    <option value="/api/get-started/extension-anatomy" >Extension Anatomy</option>
			    
			    <option value="/api/get-started/wrapping-up" >Wrapping Up</option>
			    
			  </optgroup>
			  
			  <optgroup label="Extension Capabilities">
			
			    <option value="/api/extension-capabilities/overview" >Overview</option>
			    
			    <option value="/api/extension-capabilities/common-capabilities" >Common Capabilities</option>
			    
			    <option value="/api/extension-capabilities/theming" >Theming</option>
			    
			    <option value="/api/extension-capabilities/extending-workbench" >Extending Workbench</option>
			    
			  </optgroup>
			  
			  <optgroup label="Extension Guides">
			
			    <option value="/api/extension-guides/overview" >Overview</option>
			    
			    <option value="/api/extension-guides/command" >Command</option>
			    
			    <option value="/api/extension-guides/color-theme" >Color Theme</option>
			    
			    <option value="/api/extension-guides/file-icon-theme" >File Icon Theme</option>
			    
			    <option value="/api/extension-guides/product-icon-theme" >Product Icon Theme</option>
			    
			    <option value="/api/extension-guides/tree-view" >Tree View</option>
			    
			    <option value="/api/extension-guides/webview" >Webview</option>
			    
			    <option value="/api/extension-guides/notebook" >Notebook</option>
			    
			    <option value="/api/extension-guides/custom-editors" >Custom Editors</option>
			    
			    <option value="/api/extension-guides/virtual-documents" >Virtual Documents</option>
			    
			    <option value="/api/extension-guides/virtual-workspaces" >Virtual Workspaces</option>
			    
			    <option value="/api/extension-guides/web-extensions" >Web Extensions</option>
			    
			    <option value="/api/extension-guides/workspace-trust" >Workspace Trust</option>
			    
			    <option value="/api/extension-guides/task-provider" >Task Provider</option>
			    
			    <option value="/api/extension-guides/scm-provider" >Source Control</option>
			    
			    <option value="/api/extension-guides/debugger-extension" selected>Debugger Extension</option>
			    
			    <option value="/api/extension-guides/markdown-extension" >Markdown Extension</option>
			    
			    <option value="/api/extension-guides/testing" >Test Extension</option>
			    
			    <option value="/api/extension-guides/custom-data-extension" >Custom Data Extension</option>
			    
			    <option value="/api/extension-guides/telemetry" >Telemetry</option>
			    
			  </optgroup>
			  
			  <optgroup label="UX Guidelines">
			
			    <option value="/api/ux-guidelines/overview" >Overview</option>
			    
			    <option value="/api/ux-guidelines/activity-bar" >Activity Bar</option>
			    
			    <option value="/api/ux-guidelines/sidebars" >Sidebars</option>
			    
			    <option value="/api/ux-guidelines/panel" >Panel</option>
			    
			    <option value="/api/ux-guidelines/status-bar" >Status Bar</option>
			    
			    <option value="/api/ux-guidelines/views" >Views</option>
			    
			    <option value="/api/ux-guidelines/editor-actions" >Editor Actions</option>
			    
			    <option value="/api/ux-guidelines/quick-picks" >Quick Picks</option>
			    
			    <option value="/api/ux-guidelines/command-palette" >Command Palette</option>
			    
			    <option value="/api/ux-guidelines/notifications" >Notifications</option>
			    
			    <option value="/api/ux-guidelines/webviews" >Webviews</option>
			    
			    <option value="/api/ux-guidelines/context-menus" >Context Menus</option>
			    
			    <option value="/api/ux-guidelines/walkthroughs" >Walkthroughs</option>
			    
			    <option value="/api/ux-guidelines/settings" >Settings</option>
			    
			  </optgroup>
			  
			  <optgroup label="Language Extensions">
			
			    <option value="/api/language-extensions/overview" >Overview</option>
			    
			    <option value="/api/language-extensions/syntax-highlight-guide" >Syntax Highlight Guide</option>
			    
			    <option value="/api/language-extensions/semantic-highlight-guide" >Semantic Highlight Guide</option>
			    
			    <option value="/api/language-extensions/snippet-guide" >Snippet Guide</option>
			    
			    <option value="/api/language-extensions/language-configuration-guide" >Language Configuration Guide</option>
			    
			    <option value="/api/language-extensions/programmatic-language-features" >Programmatic Language Features</option>
			    
			    <option value="/api/language-extensions/language-server-extension-guide" >Language Server Extension Guide</option>
			    
			    <option value="/api/language-extensions/embedded-languages" >Embedded Languages</option>
			    
			  </optgroup>
			  
			  <optgroup label="Testing and Publishing">
			
			    <option value="/api/working-with-extensions/testing-extension" >Testing Extensions</option>
			    
			    <option value="/api/working-with-extensions/publishing-extension" >Publishing Extensions</option>
			    
			    <option value="/api/working-with-extensions/bundling-extension" >Bundling Extensions</option>
			    
			    <option value="/api/working-with-extensions/continuous-integration" >Continuous Integration</option>
			    
			  </optgroup>
			  
			  <optgroup label="Advanced Topics">
			
			    <option value="/api/advanced-topics/extension-host" >Extension Host</option>
			    
			    <option value="/api/advanced-topics/remote-extensions" >Remote Development and Codespaces</option>
			    
			    <option value="/api/advanced-topics/using-proposed-api" >Using Proposed API</option>
			    
			    <option value="/api/advanced-topics/tslint-eslint-migration" >Migrate from TSLint to ESLint</option>
			    
			    <option value="/api/advanced-topics/python-extension-template" >Python Extension Template</option>
			    
			  </optgroup>
			  
			  <optgroup label="References">
			
			    <option value="/api/references/vscode-api" >VS Code API </option>
			    
			    <option value="/api/references/contribution-points" >Contribution Points</option>
			    
			    <option value="/api/references/activation-events" >Activation Events</option>
			    
			    <option value="/api/references/extension-manifest" >Extension Manifest</option>
			    
			    <option value="/api/references/commands" >Built-in Commands</option>
			    
			    <option value="/api/references/when-clause-contexts" >When clause contexts</option>
			    
			    <option value="/api/references/theme-color" >Theme Color</option>
			    
			    <option value="/api/references/icons-in-labels" >Product Icon Reference</option>
			    
			    <option value="/api/references/document-selector" >Document Selector</option>
			    
			  </optgroup>
			  
				</select>
			</nav>		</div>
		<div class="col-sm-9 col-md-8 body">
			<div class="edit-github pull-right">
				<a href="https://vscode.dev/github/microsoft/vscode-docs/blob/main/api/extension-guides/debugger-extension.md"
					class="btn btn-default" title="Edit this document in vscode.dev">
					<span class="glyphicon glyphicon-pencil"></span>
					<span class="hidden-xs">Edit</span>
				</a>
			</div>
			<h1>Debugger Extension</h1>
<p>Visual Studio Code's debugging architecture allows extension authors to easily integrate existing debuggers into VS Code, while having a common user interface with all of them.</p>
<p>VS Code ships with one built-in debugger extension, the <a href="https://nodejs.org/" class="external-link" target="_blank">Node.js</a> debugger extension, which is an excellent showcase for the many debugger features supported by VS Code:</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/debug-features.png" alt="VS Code Debug Features" loading="lazy"></p>
<p>This screenshot shows the following debugging features:</p>
<ol>
<li>Debug configuration management.</li>
<li>Debug actions for starting/stopping and stepping.</li>
<li>Source-, function-, conditional-, inline breakpoints, and log points.</li>
<li>Stack traces, including multi-thread and multi-process support.</li>
<li>Navigating through complex data structures in views and hovers.</li>
<li>Variable values shown in hovers or inlined in the source.</li>
<li>Managing watch expressions.</li>
<li>Debug console for interactive evaluation with autocomplete.</li>
</ol>
<p>This documentation will help you create a debugger extension which can make any debugger work with VS Code.</p>
<h2 id="debugging-architecture-of-vs-code" data-needslink="debugging-architecture-of-vs-code">Debugging Architecture of VS Code</h2>
<p>VS Code implements a generic (language-agnostic) debugger UI based on an abstract protocol that we've introduced to communicate with debugger backends.
Because debuggers typically do not implement this protocol, some intermediary is needed to &quot;adapt&quot; the debugger to the protocol.
This intermediary is typically a standalone process that communicates with the debugger.</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/debug-arch1.png" alt="VS Code Debug Architecture" loading="lazy"></p>
<p>We call this intermediary the <strong>Debug Adapter</strong> (or <strong>DA</strong> for short) and the abstract protocol that is used between the DA and VS Code is the <strong>Debug Adapter Protocol</strong> (<strong>DAP</strong> for short).
Since the Debug Adapter Protocol is independent from VS Code, it has its own <a href="https://microsoft.github.io/debug-adapter-protocol/" class="external-link" target="_blank">web site</a> where you can find an <a href="https://microsoft.github.io/debug-adapter-protocol/overview" class="external-link" target="_blank">introduction and overview</a>, the detailed <a href="https://microsoft.github.io/debug-adapter-protocol/specification" class="external-link" target="_blank">specification</a>, and some lists with <a href="https://microsoft.github.io/debug-adapter-protocol/implementors/adapters/" class="external-link" target="_blank">known implementations and supporting tools</a>.
The history of and motivation behind DAP is explained in this <a href="../../blogs/2018/08/07/debug-adapter-protocol-website.html#_why-the-need-for-decoupling-with-protocols">blog post</a>.</p>
<p>Since debug adapters are independent from VS Code and can be used in <a href="https://microsoft.github.io/debug-adapter-protocol/implementors/tools/" class="external-link" target="_blank">other developments tools</a>, they do not match VS Code's extensibility architecture which is based on extensions and contribution points.</p>
<p>For this reason VS Code provides a contribution point, <code>debuggers</code>, where a debug adapter can be contributed under a specific debug type (e.g. <code>node</code> for the Node.js debugger). VS Code launches the registered DA whenever the user starts a debug session of that type.</p>
<p>So in its most minimal form, a debugger extension is just a declarative contribution of a debug adapter implementation and the extension is basically a packaging container for the debug adapter without any additional code.</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/debug-arch2.png" alt="VS Code Debug Architecture 2" loading="lazy"></p>
<p>A more realistic debugger extension contributes many or all of the following declarative items to VS Code:</p>
<ul>
<li>List of languages supported by the debugger. VS Code enables the UI to set breakpoints for those languages.
mention- JSON schema for the debug configuration attributes introduced by the debugger. VS Code uses this schema to verify the configuration in the launch.json editor and provides IntelliSense. Please note that the JSON schema constructs <code>$ref</code> and <code>definition</code> are not supported.</li>
<li>Default debug configurations for the initial launch.json created by VS Code.</li>
<li>Debug configuration snippets that a user can add to a launch.json file.</li>
<li>Declaration of variables that can be used in debug configurations.</li>
</ul>
<p>You can find more information in <a href="../references/contribution-points.html#contributes.breakpoints"><code>contributes.breakpoints</code></a> and <a href="../references/contribution-points.html#contributes.debuggers"><code>contributes.debuggers</code></a> references.</p>
<p>In addition to the purely declarative contributions from above, the Debug Extension API enables this code-based functionality:</p>
<ul>
<li>Dynamically generated default debug configurations for the initial launch.json created by VS Code.</li>
<li>Determine the debug adapter to use dynamically.</li>
<li>Verify or modify debug configurations before they are passed to the debug adapter.</li>
<li>Communicate with the debug adapter.</li>
<li>Send messages to the debug console.</li>
</ul>
<p>In the rest of this document we show how to develop a debugger extension.</p>
<h2 id="the-mock-debug-extension" data-needslink="the-mock-debug-extension">The Mock Debug Extension</h2>
<p>Since creating a debug adapter from scratch is a bit heavy for this tutorial, we will start with a simple DA which we have created as an educational &quot;debug adapter starter kit&quot;. It is called <em>Mock Debug</em> because it does not talk to a real debugger, but mocks one. Mock Debug simulates a debugger and supports step, continue, breakpoints, exceptions, and variable access, but it is not connected to any real debugger.</p>
<p>Before delving into the development setup for mock-debug, let's first install a <a href="https://marketplace.visualstudio.com/items/andreweinand.mock-debug" class="external-link" target="_blank">pre-built version</a>
from the VS Code Marketplace and play with it:</p>
<ul>
<li>Switch to the Extensions viewlet and type &quot;mock&quot; to search for the Mock Debug extension,</li>
<li>&quot;Install&quot; and &quot;Reload&quot; the extension.</li>
</ul>
<p>To try Mock Debug:</p>
<ul>
<li>Create a new empty folder <code>mock test</code> and open it in VS Code.</li>
<li>Create a file <code>readme.md</code> and enter several lines of arbitrary text.</li>
<li>Switch to the Run and Debug view (<span class="dynamic-keybinding" data-commandId="workbench.view.debug" data-osx="⇧⌘D" data-win="Ctrl+Shift+D" data-linux="Ctrl+Shift+D"><span class="keybinding">⇧⌘D</span> (Windows, Linux <span class="keybinding">Ctrl+Shift+D</span>)</span>) and select the <strong>create a launch.json file</strong> link.</li>
<li>VS Code will let you select an &quot;debugger&quot; in order to create a default launch configuration. Pick &quot;Mock Debug&quot;.</li>
<li>Press the green <strong>Start</strong> button and then <span class="keybinding">Enter</span> to confirm the suggested file <code>readme.md</code>.</li>
</ul>
<p>A debug session starts and you can &quot;step&quot; through the readme file, set and hit breakpoints, and run into exceptions (if the word <code>exception</code> appears in a line).</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/mock-debug.gif" alt="Mock Debugger running" loading="lazy"></p>
<p>Before using Mock Debug as a starting point for your own development, we recommend to uninstall the pre-built version first:</p>
<ul>
<li>Switch to the Extensions viewlet and click on the gear icon of the Mock Debug extension.</li>
<li>Run the &quot;Uninstall&quot; action and then &quot;Reload&quot; the window.</li>
</ul>
<h2 id="development-setup-for-mock-debug" data-needslink="development-setup-for-mock-debug">Development Setup for Mock Debug</h2>
<p>Now let's get the source for Mock Debug and start development on it within VS Code:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">git clone https://github.com/microsoft/vscode-mock-debug.git</span></span>
<span class="line"><span style="color: #795E26">cd</span><span style="color: #000000"> vscode-mock-debug</span></span>
<span class="line"><span style="color: #000000">yarn</span></span>
<span class="line"></span></code></pre>
<p>Open the project folder <code>vscode-mock-debug</code> in VS Code.</p>
<p>What's in the package?</p>
<ul>
<li><code>package.json</code> is the manifest for the mock-debug extension:
<ul>
<li>It lists the contributions of the mock-debug extension.</li>
<li>The <code>compile</code> and <code>watch</code> scripts are used to transpile the TypeScript source into the <code>out</code> folder and watch for subsequent source modifications.</li>
<li>The dependencies <code>vscode-debugprotocol</code>, <code>vscode-debugadapter</code>, and <code>vscode-debugadapter-testsupport</code> are NPM modules that simplify the development of node-based debug adapters.</li>
</ul>
</li>
<li><code>src/mockRuntime.ts</code> is a <em>mock</em> runtime with a simple debug API.</li>
<li>The code that <em>adapts</em> the runtime to the Debug Adapter Protocol lives in <code>src/mockDebug.ts</code>. Here you find the handlers for the various requests of the DAP.</li>
<li>Since the implementation of debugger extension lives in the debug adapter, there is no need to have extension code at all (i.e. code that runs in the extension host process). However, Mock Debug has a small <code>src/extension.ts</code> because it illustrates what can be done in the extension code of a debugger extension.</li>
</ul>
<p>Now build and launch the Mock Debug extension by selecting the <strong>Extension</strong> launch configuration and hitting <code>F5</code>.
Initially, this will do a full transpile of the TypeScript sources into the <code>out</code> folder.
After the full build, a <em>watcher task</em> is started that transpiles any changes you make.</p>
<p>After transpiling the source, a new VS Code window labelled &quot;[Extension Development Host]&quot; appears with the Mock Debug extension now running in debug mode. From that window open your <code>mock test</code> project with the <code>readme.md</code> file, start a debug session with 'F5', and then step through it:</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/debug-mock-session.png" alt="Debugging Extension and Server" loading="lazy"></p>
<p>Since you are running the extension in debug mode, you could now set and hit breakpoints in <code>src/extension.ts</code> but as I've mentioned above, there is not much interesting code executing in the extension. The interesting code runs in the debug adapter which is a separate process.</p>
<p>In order to debug the debug adapter itself, we have to run it in debug mode. This is most easily achieved by running the debug adapter in <em>server mode</em> and configure VS Code to connect to it. In your VS Code vscode-mock-debug project select the launch configuration <strong>Server</strong> from the dropdown menu and press the green start button.</p>
<p>Since we already had an active debug session for the extension the VS Code debugger UI now enters <em>multi session</em> mode which is indicated by seeing the names of the two debug sessions <strong>Extension</strong> and <strong>Server</strong> showing up in the CALL STACK view:</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/debugger-extension-server.png" alt="Debugging Extension and Server" loading="lazy"></p>
<p>Now we are able to debug both the extension and the DA simultaneously.
A faster way to arrive here is by using the <strong>Extension + Server</strong> launch configuration which launches both sessions automatically.</p>
<p>An alternative, even simpler approach for debugging the extension and the DA can be found <a href="#alternative-approach-to-develop-a-debugger-extension">below</a>.</p>
<p>Set a breakpoint at the beginning of method <code>launchRequest(...)</code> in file <code>src/mockDebug.ts</code> and as a last step configure the mock debugger to connect to the DA server by adding a <code>debugServer</code> attribute for port <code>4711</code> to your mock test launch config:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;version&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;0.2.0&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;configurations&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">    {</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mock&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;request&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;launch&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mock test&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;${workspaceFolder}/readme.md&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;stopOnEntry&quot;</span><span style="color: #000000">: </span><span style="color: #0000FF">true</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">      </span><span style="color: #0451A5">&quot;debugServer&quot;</span><span style="color: #000000">: </span><span style="color: #098658">4711</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">  ]</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>If you now launch this debug configuration, VS Code does not start the mock debug adapter as a separate process, but directly connects to local port 4711 of the already running server, and you should hit the breakpoint in <code>launchRequest</code>.</p>
<p>With this setup, you can now easily edit, transpile, and debug Mock Debug.</p>
<p>But now the real work begins: you will have to replace the mock implementation of the debug adapter in <code>src/mockDebug.ts</code> and <code>src/mockRuntime.ts</code> by some code that talks to a &quot;real&quot; debugger or runtime. This involves understanding and implementing the Debug Adapter Protocol. More details
about this can be found <a href="https://microsoft.github.io/debug-adapter-protocol/overview#How_it_works" class="external-link" target="_blank">here</a>.</p>
<h2 id="anatomy-of-the-package.json-of-a-debugger-extension" data-needslink="anatomy-of-the-package.json-of-a-debugger-extension">Anatomy of the package.json of a Debugger Extension</h2>
<p>Besides providing a debugger-specific implementation of the debug adapter a debugger extension needs a <code>package.json</code> that contributes to the various debug-related contributions points.</p>
<p>So let's have a closer look at the <code>package.json</code> of Mock Debug.</p>
<p>Like every VS Code extension, the <code>package.json</code> declares the fundamental properties <strong>name</strong>, <strong>publisher</strong>, and <strong>version</strong> of the extension. Use the <strong>categories</strong> field to make the extension easier to find in the VS Code Extension Marketplace.</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #000000">{</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mock-debug&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;displayName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Mock Debug&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;version&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;0.24.0&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;publisher&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;...&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;description&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Starter extension for developing debug adapters for VS Code.&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;author&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;...&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;email&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;...&quot;</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;engines&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;vscode&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;^1.17.0&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;node&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;^7.9.0&quot;</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;icon&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;images/mock-debug-icon.png&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;categories&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;Debuggers&quot;</span><span style="color: #000000">],</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;contributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;breakpoints&quot;</span><span style="color: #000000">: [{ </span><span style="color: #0451A5">&quot;language&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;markdown&quot;</span><span style="color: #000000"> }],</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;debuggers&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">      {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mock&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;label&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Mock Debug&quot;</span><span style="color: #000000">,</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./out/mockDebug.js&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;runtime&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;node&quot;</span><span style="color: #000000">,</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;configurationAttributes&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #0451A5">&quot;launch&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;required&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;program&quot;</span><span style="color: #000000">],</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;properties&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">              </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;string&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #0451A5">&quot;description&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Absolute path to a text file.&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #0451A5">&quot;default&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;${workspaceFolder}/${command:AskForProgramName}&quot;</span></span>
<span class="line"><span style="color: #000000">              },</span></span>
<span class="line"><span style="color: #000000">              </span><span style="color: #0451A5">&quot;stopOnEntry&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;boolean&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #0451A5">&quot;description&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Automatically stop after launch.&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">                </span><span style="color: #0451A5">&quot;default&quot;</span><span style="color: #000000">: </span><span style="color: #0000FF">true</span></span>
<span class="line"><span style="color: #000000">              }</span></span>
<span class="line"><span style="color: #000000">            }</span></span>
<span class="line"><span style="color: #000000">          }</span></span>
<span class="line"><span style="color: #000000">        },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;initialConfigurations&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">          {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mock&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;request&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;launch&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Ask for file name&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;${workspaceFolder}/${command:AskForProgramName}&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;stopOnEntry&quot;</span><span style="color: #000000">: </span><span style="color: #0000FF">true</span></span>
<span class="line"><span style="color: #000000">          }</span></span>
<span class="line"><span style="color: #000000">        ],</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;configurationSnippets&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">          {</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;label&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;Mock Debug: Launch&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;description&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;A new configuration for launching a mock debug program&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">            </span><span style="color: #0451A5">&quot;body&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">              </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mock&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">              </span><span style="color: #0451A5">&quot;request&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;launch&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">              </span><span style="color: #0451A5">&quot;name&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;${2:Launch Program}&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">              </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;^</span><span style="color: #EE0000">\&quot;\\</span><span style="color: #A31515">${workspaceFolder}/${1:Program}</span><span style="color: #EE0000">\&quot;</span><span style="color: #A31515">&quot;</span></span>
<span class="line"><span style="color: #000000">            }</span></span>
<span class="line"><span style="color: #000000">          }</span></span>
<span class="line"><span style="color: #000000">        ],</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;variables&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">          </span><span style="color: #0451A5">&quot;AskForProgramName&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;extension.mock-debug.getProgramName&quot;</span></span>
<span class="line"><span style="color: #000000">        }</span></span>
<span class="line"><span style="color: #000000">      }</span></span>
<span class="line"><span style="color: #000000">    ]</span></span>
<span class="line"><span style="color: #000000">  },</span></span>
<span class="line"></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #0451A5">&quot;activationEvents&quot;</span><span style="color: #000000">: [</span><span style="color: #A31515">&quot;onDebug&quot;</span><span style="color: #000000">, </span><span style="color: #A31515">&quot;onCommand:extension.mock-debug.getProgramName&quot;</span><span style="color: #000000">]</span></span>
<span class="line"><span style="color: #000000">}</span></span>
<span class="line"></span></code></pre>
<p>Now take a look at the <strong>contributes</strong> section which contains the contributions specific to debug extensions.</p>
<p>First, we use the <strong>breakpoints</strong> contribution point to list the languages for which setting breakpoints will be enabled. Without this, it would not be possible to set breakpoints in Markdown files.</p>
<p>Next is the <strong>debuggers</strong> section. Here, one debugger is introduced under a debug <strong>type</strong> <code>mock</code>. The user can reference this type in launch configurations. The optional attribute <strong>label</strong> can be used to give the debug type a nice name when showing it in the UI.</p>
<p>Since the debug extension uses a debug adapter, a relative path to its code is given as the <strong>program</strong> attribute.
In order to make the extension self-contained the application must live inside the extension folder. By convention, we keep this applications inside a folder named <code>out</code> or <code>bin</code>, but you are free to use a different name.</p>
<p>Since VS Code runs on different platforms, we have to make sure that the DA program supports the different platforms as well. For this we have the following options:</p>
<ol>
<li>
<p>If the program is implemented in a platform independent way, e.g. as program that runs on a runtime that is available on all supported platforms, you can specify this runtime via the <strong>runtime</strong> attribute. As of today, VS Code supports <code>node</code> and <code>mono</code> runtimes. Our Mock debug adapter from above uses this approach.</p>
</li>
<li>
<p>If your DA implementation needs different executables on different platforms, the <strong>program</strong> attribute can be qualified for specific platforms like this:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #A31515">&quot;debuggers&quot;</span><span style="color: #000000">: [{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;gdb&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;windows&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./bin/gdbDebug.exe&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    },</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;osx&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./bin/gdbDebug.sh&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    },</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;linux&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./bin/gdbDebug.sh&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}]</span></span>
<span class="line"></span></code></pre>
</li>
<li>
<p>A combination of both approaches is possible too. The following example is from the Mono DA which is implemented as a mono application that needs a runtime on macOS and Linux but not on Windows:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #A31515">&quot;debuggers&quot;</span><span style="color: #000000">: [{</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;type&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mono&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;program&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;./bin/monoDebug.exe&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;osx&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;runtime&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mono&quot;</span></span>
<span class="line"><span style="color: #000000">    },</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #0451A5">&quot;linux&quot;</span><span style="color: #000000">: {</span></span>
<span class="line"><span style="color: #000000">        </span><span style="color: #0451A5">&quot;runtime&quot;</span><span style="color: #000000">: </span><span style="color: #A31515">&quot;mono&quot;</span></span>
<span class="line"><span style="color: #000000">    }</span></span>
<span class="line"><span style="color: #000000">}]</span></span>
<span class="line"></span></code></pre>
</li>
</ol>
<p><strong>configurationAttributes</strong> declares the schema for the <code>launch.json</code> attributes that are available for this debugger. This schema is used for validating the <code>launch.json</code> and supporting IntelliSense and hover help when editing the launch configuration.</p>
<p>The <strong>initialConfigurations</strong> define the initial content of the default <code>launch.json</code> for this debugger. This information is used when a project does not have a <code>launch.json</code> and a user starts a debug session or selects the <strong>create a launch.json file</strong> link in the Run and Debug view. In this case VS Code lets the user pick a debug environment and then creates the corresponding <code>launch.json</code>:</p>
<p><img src="../../assets/api/extension-guides/debugger-extension/debug-init-config.png" alt="Debugger Quickpick" loading="lazy"></p>
<p>Instead of defining the initial content of the <code>launch.json</code> statically in the <code>package.json</code>, it is possible to compute the initial configurations dynamically by implementing a <code>DebugConfigurationProvider</code> (for details see the section <a href="#using-a-debugconfigurationprovider">Using a DebugConfigurationProvider below</a>).</p>
<p><strong>configurationSnippets</strong> define launch configuration snippets that get surfaced in IntelliSense when editing the <code>launch.json</code>. As a convention, prefix the <code>label</code> attribute of a snippet by the debug environment name so that it can be clearly identified when presented in a list of many snippet proposals.</p>
<p>The <strong>variables</strong> contribution binds &quot;variables&quot; to &quot;commands&quot;. These variables can be used in the launch configuration using the <strong>${command:xyz}</strong> syntax and the variables are substituted by the value returned from the bound command when a debug session is started.</p>
<p>The implementation of a command lives in the extension and it can range from a simple expression with no UI, to sophisticated functionality based on the UI features available in the extension API.
Mock Debug binds a variable <code>AskForProgramName</code> to the command <code>extension.mock-debug.getProgramName</code>. The <a href="https://github.com/microsoft/vscode-mock-debug/blob/606454ff3bd669867a38d9b2dc7b348d324a3f6b/src/extension.ts#L21-L26" class="external-link" target="_blank">implementation</a> of this command in <code>src/extension.ts</code> uses the <code>showInputBox</code> to let the user enter a program name:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #001080">vscode</span><span style="color: #000000">.</span><span style="color: #001080">commands</span><span style="color: #000000">.</span><span style="color: #795E26">registerCommand</span><span style="color: #000000">(</span><span style="color: #A31515">&#39;extension.mock-debug.getProgramName&#39;</span><span style="color: #000000">, </span><span style="color: #001080">config</span><span style="color: #000000"> </span><span style="color: #0000FF">=&gt;</span><span style="color: #000000"> {</span></span>
<span class="line"><span style="color: #000000">  </span><span style="color: #AF00DB">return</span><span style="color: #000000"> </span><span style="color: #001080">vscode</span><span style="color: #000000">.</span><span style="color: #001080">window</span><span style="color: #000000">.</span><span style="color: #795E26">showInputBox</span><span style="color: #000000">({</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">placeHolder:</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;Please enter the name of a markdown file in the workspace folder&#39;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #001080">value:</span><span style="color: #000000"> </span><span style="color: #A31515">&#39;readme.md&#39;</span></span>
<span class="line"><span style="color: #000000">  });</span></span>
<span class="line"><span style="color: #000000">});</span></span>
<span class="line"></span></code></pre>
<p>The variable can now be used in any string typed value of a launch configuration as <strong>${command:AskForProgramName}</strong>.</p>
<h2 id="using-a-debugconfigurationprovider" data-needslink="using-a-debugconfigurationprovider">Using a DebugConfigurationProvider</h2>
<p>If the static nature of debug contributions in the <code>package.json</code> is not sufficient, a <code>DebugConfigurationProvider</code> can be used to dynamically control the following aspects of a debug extension:</p>
<ul>
<li>The initial debug configurations for a newly created launch.json can be generated dynamically, e.g. based on some contextual information available in the workspace.</li>
<li>A launch configuration can be <em>resolved</em> (or modified) before it is used to start a new debug session. This allows for filling in default values based on information available in the workspace. Two <em>resolve</em> methods exist: <code>resolveDebugConfiguration</code> is called before variables are substituted in the launch configuration, <code>resolveDebugConfigurationWithSubstitutedVariables</code> is called after all variables have been substituted. The former must be used if the validation logic inserts additional variables into the debug configuration. The latter must be used if the validation logic needs access to the final values of all debug configuration attributes.</li>
</ul>
<p>The <code>MockConfigurationProvider</code> in <code>src/extension.ts</code> implements <code>resolveDebugConfiguration</code> to detect the case where a debug session is started when no launch.json exists, but a Markdown file is open in the active editor. This is a typical scenario where the user has a file open in the editor and just wants to debug it without creating a launch.json.</p>
<p>A debug configuration provider is registered for a specific debug type via <code>vscode.debug.registerDebugConfigurationProvider</code>, typically in the extension's <code>activate</code> function.
To ensure that the <code>DebugConfigurationProvider</code> is registered early enough, the extension must be activated as soon as the debug functionality is used. This can be easily achieved by configuring extension activation for the <code>onDebug</code> event in the <code>package.json</code>:</p>
<pre class="shiki" style="background-color: #FFFFFF"><code><span class="line"><span style="color: #A31515">&quot;activationEvents&quot;</span><span style="color: #000000">: [</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #A31515">&quot;onDebug&quot;</span><span style="color: #000000">,</span></span>
<span class="line"><span style="color: #000000">    </span><span style="color: #008000">// ...</span></span>
<span class="line"><span style="color: #000000">],</span></span>
<span class="line"></span></code></pre>
<p>This catch-all <code>onDebug</code> is triggered as soon as any debug functionality is used. This works fine as long as the extension has cheap startup costs (i.e. does not spend a lot of time in its startup sequence). If a debug extension has an expensive startup (for instance because of starting a language server), the <code>onDebug</code> activation event could negatively affect other debug extensions, because it is triggered rather early and does not take a specific debug type into account.</p>
<p>A better approach for expensive debug extensions is to use more fine-grained activation events:</p>
<ul>
<li><code>onDebugInitialConfigurations</code> is fired just before the <code>provideDebugConfigurations</code> method of the <code>DebugConfigurationProvider</code> is called.</li>
<li><code>onDebugResolve:type</code> is fired just before the <code>resolveDebugConfiguration</code> or <code>resolveDebugConfigurationWithSubstitutedVariables</code> methods of the <code>DebugConfigurationProvider</code> for the specified type is called.</li>
</ul>
<p><strong>Rule of thumb:</strong> If activation of a debug extensions is cheap, use <code>onDebug</code>. If it is expensive, use <code>onDebugInitialConfigurations</code> and/or <code>onDebugResolve</code> depending on whether the <code>DebugConfigurationProvider</code> implements the corresponding methods <code>provideDebugConfigurations</code> and/or <code>resolveDebugConfiguration</code>.</p>
<h2 id="publishing-your-debugger-extension" data-needslink="publishing-your-debugger-extension">Publishing your debugger extension</h2>
<p>Once you have created your debugger extension you can publish it to the Marketplace:</p>
<ul>
<li>Update the attributes in the <code>package.json</code> to reflect the naming and purpose of your debugger extension.</li>
<li>Upload to the Marketplace as described in <a href="../working-with-extensions/publishing-extension.html">Publishing Extension</a>.</li>
</ul>
<h2 id="alternative-approach-to-develop-a-debugger-extension" data-needslink="alternative-approach-to-develop-a-debugger-extension">Alternative approach to develop a debugger extension</h2>
<p>As we have seen, developing a debugger extension typically involves debugging both the extension and the debug adapter in two parallel sessions. As explained above VS Code supports this nicely but development could be easier if both the extension and the debug adapter would be one program that could be debugged in one debug session.</p>
<p>This approach is in fact easily doable as long as your debug adapter is implemented in TypeScript/JavaScript. The basic idea is to run the debug adapter directly inside the extension and to make VS Code to connect to it instead of launching a new external debug adapter per session.</p>
<p>For this VS Code provides extension API to control how a debug adapter is created and run. A <code>DebugAdapterDescriptorFactory</code> has a method <code>createDebugAdapterDescriptor</code> that is called by VS Code when a debug session starts and a debug adapter is needed. This method must return a descriptor object (<code>DebugAdapterDescriptor</code>) that describes how the debug adapter is run.</p>
<p>Today VS Code supports three different ways for running a debug adapter and consequently offers three different descriptor types:</p>
<ul>
<li><code>DebugAdapterExecutable</code>: this object describes a debug adapter as an external executable with a path and optional arguments and runtime. The executable must implement the Debug Adapter Protocol and communicate via stdin/stdout. This is VS Code's default mode of operation and VS Code uses this descriptor automatically with the corresponding values from the package.json if no <code>DebugAdapterDescriptorFactory</code> is explicitly registered.</li>
<li><code>DebugAdapterServer</code>: this object describes a debug adapter running as a server that communicates via a specific local or remote port. A debug adapter implementation based on the <a href="https://www.npmjs.com/package/vscode-debugadapter" class="external-link" target="_blank"><code>vscode-debugadapter</code></a> npm module supports this server mode automatically.</li>
<li><code>DebugAdapterInlineImplementation</code>: this object describes a debug adapter as a JavaScript or Typescript object that implements the <code>vscode.DebugAdapter</code> interface. A debug adapter implementation based on version 1.38-pre.4 or later of the <a href="https://www.npmjs.com/package/vscode-debugadapter" class="external-link" target="_blank"><code>vscode-debugadapter</code></a> npm module implements the interface automatically.</li>
</ul>
<p>Mock Debug shows examples for the <a href="https://github.com/microsoft/vscode-mock-debug/blob/668fa6f5db95dbb76825d4eb670ab0d305050c3b/src/extension.ts#L91-L150" class="external-link" target="_blank">three types of DebugAdapterDescriptorFactories</a>  and how they are <a href="https://github.com/microsoft/vscode-mock-debug/blob/668fa6f5db95dbb76825d4eb670ab0d305050c3b/src/extension.ts#L50" class="external-link" target="_blank">registered for the 'mock' debug type</a>. The run mode to use can be selected by <a href="https://github.com/microsoft/vscode-mock-debug/blob/668fa6f5db95dbb76825d4eb670ab0d305050c3b/src/extension.ts#L16" class="external-link" target="_blank">setting the global variable <code>runMode</code></a> to one of the possible values <code>external</code>, <code>server</code>, or <code>inline</code>.</p>
<p>For development, the <code>inline</code> and <code>server</code> modes are particularly useful because they allow for debugging extension and debug adapter within a single process.</p>

			<div class="feedback"></div>
			
			<div class="body-footer">12/7/2022</div>
			
		</div>
		<div class="col-sm-3 col-md-2 docs-subnavbar-container">
			<nav id="docs-subnavbar" aria-label="On Page" data-spy="affix" data-offset-top="20">
				
				<h4><span class="sr-only">In this article there are 7 sections</span><span
						aria-hidden="true">In this article</span></h4>
				<ul class="nav">
					
					<li><a href="#debugging-architecture-of-vs-code">Debugging Architecture of VS Code</a></li>
					
					<li><a href="#the-mock-debug-extension">The Mock Debug Extension</a></li>
					
					<li><a href="#development-setup-for-mock-debug">Development Setup for Mock Debug</a></li>
					
					<li><a href="#anatomy-of-the-package.json-of-a-debugger-extension">Anatomy of the package.json of a Debugger Extension</a></li>
					
					<li><a href="#using-a-debugconfigurationprovider">Using a DebugConfigurationProvider</a></li>
					
					<li><a href="#publishing-your-debugger-extension">Publishing your debugger extension</a></li>
					
					<li><a href="#alternative-approach-to-develop-a-debugger-extension">Alternative approach to develop a debugger extension</a></li>
					
				</ul>
				
				<div class="connect-widget"></div>
			</nav>
		</div>
	</div>
</div>
      </div>
  </div>

  <footer role="contentinfo">
      <div class="container">
          <div class="row">
              <div class="left col-md-7">
                  <ul class="links">
                      <li>
                          <span class="message">Hello from Seattle.</span>
                      </li>
                      <li>
                          <a href="https://go.microsoft.com/fwlink/?LinkID=533687" onclick="followOnTwitter()" tabindex="0">Follow @code</a>
                      </li>
                      <li>
                          <div class="github-star-button">
                              <iframe src="../../assets/github-button29be.html?user=Microsoft&amp;repo=vscode&amp;type=star&amp;count=true"
                                  frameborder="0" scrolling="0" width="130px" height="20px" title="GitHub follow button" loading="lazy"></iframe>
                          </div>
                      </li>
  
                      <script>
                          function followOnTwitter() {
                              var windowFeatures = "location=yes,height=600,width=550,scrollbars=yes,status=yes";
                              var originalReferer = "&original_referer=" + document.URL;
                              var screenName = "&screen_name=code";
                              var URL = "https://twitter.com/intent/follow?" + originalReferer + screenName;
                              window.open(URL, "_blank", windowFeatures);
                          }
  
                          function manageConsent() {
                              if(WcpConsent.siteConsent.isConsentRequired){
                                  WcpConsent.siteConsent.manageConsent();
                              }
                          }
                      </script>
                  </ul>
              </div>
              <div class="right col-md-5">
                  <ul class="links">
                      <li><a id="footer-support-link" href="https://support.serviceshub.microsoft.com/supportforbusiness/create?sapId=d66407ed-3967-b000-4cfb-2c318cad363d"
                              target="_blank">Support</a></li>
                      <li><a id="footer-privacy-link" href="https://privacy.microsoft.com/privacystatement"
                              target="_blank">Privacy</a></li>
                      <li style="display: none;"><a id="footer-cookie-link" style="cursor: pointer;" onclick="manageConsent()"
                              target="_blank">Manage Cookies</a></li>
                      <li><a id="footer-terms-link" href="https://www.microsoft.com/legal/terms-of-use"
                              target="_blank">Terms of Use</a></li>
                      <li><a id="footer-license-link" href="../../License.html">License</a></li>
                  </ul>
                  <div class="copyright">
                      <a id="footer-microsoft-link" class="logo" href="https://www.microsoft.com/">
                          <img class="microsoft-logo" src="../../assets/images/microsoft-logo.png" height="20" alt="Microsoft homepage"/>
                          <img class="microsoft-logo-inverted" src="../../assets/images/microsoft-logo-inverted.png" height="20" alt="Microsoft homepage" />
                      </a>
                      <span>&copy; 2023 Microsoft</span>
                  </div>
              </div>
          </div>
      </div>
  </footer>
  <script src="../../dist/index.js"></script>

  

  <script type="application/ld+json">
    {
      "@context" : "http://schema.org",
      "@type" : "SoftwareApplication",
      "name" : "Visual Studio Code",
      "softwareVersion": "1.74",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "USD"
      },
      "applicationCategory": "DeveloperApplication",
      "applicationSubCategory": "Text Editor",
      "alternateName": "VS Code",
      "datePublished": "2021-11-03",
      "operatingSystem": "Mac, Linux, Windows",
      "logo": "https://code.visualstudio.com/assets/apple-touch-icon.png",
      "screenshot": "https://code.visualstudio.com/assets/home/home-screenshot-win.png",
      "releaseNotes": "https://code.visualstudio.com/updates",
      "downloadUrl": "https://code.visualstudio.com/download",
      "license": "https://code.visualstudio.com/license",
      "softwareRequirements": "https://code.visualstudio.com/docs/supporting/requirements",
      "url" : "https://code.visualstudio.com",
      "author": {
        "@type": "Organization",
        "name": "Microsoft"
      },
      "publisher": {
        "@type": "Organization",
        "name": "Microsoft"
      },
      "maintainer": {
        "@type": "Organization",
        "name": "Microsoft"
      },
      "potentialAction": {
        "@type": "SearchAction",
        "target": "https://code.visualstudio.com/Search?q={search_term_string}",
        "query-input": "required name=search_term_string"
      },
      "sameAs" : [
        "https://en.wikipedia.org/wiki/Visual_Studio_Code",
        "https://twitter.com/code",
        "https://www.youtube.com/code",
        "https://www.tiktok.com/@vscode",
        "https://github.com/microsoft/vscode"
      ]
    }
  </script>
</body>

<!-- Mirrored from code.visualstudio.com/api/extension-guides/debugger-extension by HTTrack Website Copier/3.x [XR&CO'2014], Wed, 04 Jan 2023 11:25:52 GMT -->
</html>